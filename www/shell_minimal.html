<!DOCTYPE html>
<html>

<head>
  <script src="lc0.js"></script>
  <style>
    pre {
      border: 1px solid black;
      padding: 5px;
      background-color: lightgray;
      color: black;
      font-family: 'Courier New', monospace;
      border-radius: 5px;
      box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
    }

    input {
      padding: 10px;
      border: 1px solid gray;
      border-radius: 5px;
      font-family: 'Courier New', monospace;
      font-size: 16px;
      width: 100%;
    }

    .input {
      color: blue;
      font-weight: bold;
    }
  </style>
</head>
<script>
  let decoder = new TextDecoder('utf-8', { stream: true });
  let lc0 = new Lc0(
    (buf) => {
      let str = decoder.decode(buf, { stream: true });
      document.getElementById("stdout").innerText += str;
    },
    (buf) => {
      let str = decoder.decode(buf, { stream: true });
      document.getElementById("stderr").innerText += str;
    },
  );
  lc0.run();
</script>

<body>
  <h2>stdout</h2>
  <pre id="stdout"></pre>
  <h2>stdin</h2>
  <input id="stdin" type="text" />
  <h2>stderr</h2>
  <pre id="stderr"></pre>
</body>

<script>
  document.getElementById("stdin").addEventListener("keyup", function (event) {
  if (event.key === "Enter") {
    let inputText = document.getElementById("stdin").value;
    let inputDiv = document.createElement("div");
    inputDiv.className = "input";
    inputDiv.innerText = inputText;
    lc0.send(inputText);
    document.getElementById("stdout").appendChild(inputDiv);
    document.getElementById("stdin").value = "";
  }
  });
</script>

</html>